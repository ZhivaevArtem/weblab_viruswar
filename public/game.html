<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
    #game_field {
        padding: 0;
        border-spacing: 0;
        border-top: 1px solid black;
        border-left: 1px solid black;
    }
    #game_field tr {
        padding: 0;
        margin: 0;
    }
    #game_field tr td {
        border-right: 1px solid black;
        border-bottom: 1px solid black;
        border-collapse: collapse;
        height: 50px;
        width: 50px;
        margin: 0;
        padding: 0;
    }
</style>
</head>
<body>
<table id="game_field">
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>
<p id="status"></p>
<hr>
<button id="pass_button">PASS</button>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
<script src="game.js"></script>
<script>
let field = [];
let rows = document.getElementById('game_field').children.item(0).children;
for (let i = 0; i < 10; i++) {
    field[i] = [];
    let row = rows.item(i).children;
    for (let j = 0; j < 10; j++) {
        field[i][j] = row.item(j);
    }
}
let passButton = document.getElementById('pass_button');

let game = new Game(winner=>alert('game ended, winner: ' + winner));

setInterval(function () {
    for (let i = 0; i < 10; i++) {
        for (let j = 0; j < 10; j++) {
            field[i][j].textContent = game.getField(i, j);
        }
    }
}, 250);

passButton.onclick = function() {
    let f = game.pass();
    console.log(f);
};
for (let i = 0; i < 10; i++) {
    for (let j = 0; j < 10; j++) {
        field[i][j].onclick = function () {
            let f = game.turn(i, j);
            console.log([f, i, j]);
        }
    }
}


game.turn(9, 0);
game.turn(9, 1);
game.turn(9, 2);

game.turn(0, 9);
game.turn(0, 8);
game.turn(1, 9);
let k = 0;
for (let i = 9; i >= 0; i--) {
    for (let j = 0; j < 10; j++) {
        if (game.getField(i, j) === '') {
            game.turn(i, j);
            k += 1;
            if (k === 3) {
                k = 0;
                game.pass();
            }
        }
    }
}


</script>
</html>